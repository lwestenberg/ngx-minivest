<div class="p-6 bg-white rounded-lg shadow-lg">
  <h3 class="text-xl font-semibold mb-4 text-blue-600">Form State & Validation:</h3>

  <details class="bg-white mb-4 rounded-lg border" open>
    <summary class="px-4 py-3 text-lg font-medium cursor-pointer hover:bg-gray-50 rounded-lg">
      Form Value (Signal)
    </summary>
    <div class="px-4 pb-4">
      <div
        class="bg-blue-50 text-blue-900 p-4 rounded-md font-mono text-sm overflow-x-auto border border-blue-200"
      >
        <pre><code>{{ formValue() | json }}</code></pre>
      </div>
    </div>
  </details>

  <details class="bg-white mb-4 rounded-lg border" open>
    <summary class="px-4 py-3 text-lg font-medium cursor-pointer hover:bg-gray-50 rounded-lg">
      Vest Validation State
    </summary>
    <div class="px-4 pb-4">
      <div class="flex flex-wrap gap-2 mb-4">
        <div
          class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border"
          [class.bg-red-100]="minivest().hasErrors()"
          [class.text-red-800]="minivest().hasErrors()"
          [class.border-red-300]="minivest().hasErrors()"
          [class.bg-green-100]="!minivest().hasErrors()"
          [class.text-green-800]="!minivest().hasErrors()"
          [class.border-green-300]="!minivest().hasErrors()"
        >
          Valid: {{ minivest().valid }}
        </div>
        <div
          class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800 border border-red-300"
        >
          Errors: {{ minivest().errorCount }}
        </div>
      </div>

      @if (minivest().hasErrors()) {
        <div class="bg-red-50 border border-red-200 rounded-lg p-4">
          <h5 class="font-semibold mb-2 text-red-800">Vest Validation Errors:</h5>
          <div class="space-y-2">
            @for (error of minivest().errors; track error.fieldName) {
              <div
                class="bg-red-100 text-red-800 p-3 rounded-md font-mono text-xs overflow-x-auto border border-red-200"
              >
                <pre><code>{{ error | json }}</code></pre>
              </div>
            }
          </div>
        </div>
      }
    </div>
  </details>
</div>
